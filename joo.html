<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="image/png" href="https://cdn.kevagroupe.com/ogooueshop/1.0.1/images/favicon.png"/>
    <title>Document</title>
    <script>
    class product {
        constructor(id, name, price){
            this.id=id;
            this.name=name;
            this.price=price;
        }


    }


    class shoppingCartItem {
        constructor(item_id, product_id,product_unit_price, product_qty){
            this.item_id=item_id;
            this.product_id=product_id;
            this.product_unit_price=product_unit_price;
            this.product_qty=product_qty;
        }

        getTotalPrice(){
            return this.product_unit_price*this.product_qty;
        }


    }

    class shoppingCart{
        constructor(){
            this.items=[];
        }

        getTotalItems(){
            return this.items.reduce((total,item)=>total + item.quantity,0);
        }
        
        addItem(product, quantity) {
        const existingItem = this.items.find(item => item.product.id === product.id);
        if (existingItem) {
            existingItem.quantity += quantity; // Augmenter la quantité si le produit existe déjà
        } else {
            this.items.push(new ShoppingCartItem(product, quantity)); // Ajouter un nouvel élément
        }


    }
     // Méthode pour supprimer des éléments du panier
     removeItem(productId) {
        this.items = this.items.filter(item => item.product.id !== productId);
    }

    // Méthode pour afficher les éléments du panier
    displayItems() {
        this.items.forEach(item => {
            console.log(${item.product.name} - Quantité: ${item.quantity}, Prix total: ${item.getTotalPrice()});
        });
    }
}

// Création de produits
const product1 = new Product(1, "Produit A", 10);
const product2 = new Product(2, "Produit B", 20);
const product3 = new Product(3, "Produit C", 15);

// Création d'un panier d'achat
const cart = new ShoppingCart();

// Ajout d'éléments au panier
cart.addItem(product1, 2);
cart.addItem(product2, 1);
cart.addItem(product1, 1); // Ajoute encore un Produit A

// Affichage du panier
console.log("Contenu du panier :");
cart.displayItems();
console.log("Total d'éléments dans le panier :" ${cart.getTotalItems()});

// Suppression d'un élément du panier
cart.removeItem(1); // Supprime Produit A

// Affichage du panier après suppression
console.log("Contenu du panier après suppression :");
cart.displayItems();
console.log("Total d'éléments dans le panier :" ${cart.getTotalItems()});






    






    product_1 = new product("1","t-shirt","500");
    product_2 = new product("2","t-shirt","350");
    shopping_cart_item_1=new shoppingCartItem("1","500","3");
    console.log(product_2);


    </script>
</head>
<body>
    
</body>
</html>